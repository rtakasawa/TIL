# 基礎知識
## データベースマネジメントシステム(DBMS)
- データを一元管理するソフトウェア
- アプリケーションがデータを検索したり、更新するための手段を提供する
- アプリケーションとデータを独立させることができる

### 機能
#### データの機密保護
- データのアクセス権限を管理
- リソース毎、ユーザー毎、アクセスの種類（参照、更新等）、列単位でアクセス権限も可能
- データの暗号化をサポートすることもできるDBMSもあり

#### トランザクションを制御
- トランザクションの処理が途中で停止することの内容制御
- 同じデータに対する更新処理が同時に行われないように排他制御する
- 排他制御:順番に並んで一つ一つ処理すること

#### データの整合性の維持

#### 障害からの安全復旧
- ハードウェア障害から復旧する機能を持っている
- バックアップ、ログを用いて障害直前まで復旧可能

#### アプリケーションプログラムのインターフェイスを提供
- DBMSを挟んでアプリケーションとDBのやり取りを行う
- やり取りを行う手段を提供している

### データモデル
- データベースを構築する範囲:対象世界
- 対象世界をモデル化したものがデータモデル
- 対象世界を抽象化して概念データモデルを作成し、データベースとして実装可能な論理データモデルに変換する

#### 概念データモデル
- データ構造を概念的に捉えた結果を表現したモデル
- 概念モデルの作成にはER図を作成には用いられる
- Entity間のRelationshipの多重度をカーディナリティ（多対多とか）と呼ぶ

#### 論理データモデル
- データベースとして実装可能なデータモデルのこと
#### 階層モデル
- Entity間に親子関係をもたせる
- 親Entityに属するレコードは親レコード。子Entityに属するレコードは子レコード
- 1つの親レコードに複数の子レコードが関連づく。子レコードは複数の親レコードには関連づかない
#### ネットワークモデル
- 子レコードが複数の親レコードに紐づく
#### 関係モデル
- 表構造でデータを表現する
- リレーショナルデータベースには関係モデルが使われる

### SQLの基礎
#### 分類
##### DDL(difinition データ定義)
- テーブルやインデックスの作成、変更、削除
- create,drop等
#### DML（Manipulation データ操作）
- データの参照、削除、追加など
- select,insert
#### DCL（Control データ操作）
- 権限設定、取り消し、データ更新の確定など
- commit,rollback,grantなど

### データベース設計
#### 概念データモデルの作成
- 対象世界からデータを抽出しEntityを定義する
- Entityを抽出したら、Entity毎の主要な属性を定義する
- Entity間のRelationShipを明確にする
#### 論理データモデルへの変換
- 多対多のRelationshipが存在する場合は中間Entityを用意する
- 各Entityの保持する詳細な属性、データ型等を名確認する
- 正規化を行う
#### 正規化
- データを使いやすいように整理すること
- 整理せずにデータベースを作ると、不整合が生じたり、データが失われたりする⇛更新時異常という
##### 候補キーと主キー
- 主キーを決めるためには、候補キーを探し、候補キーの中から主キーを選択する
- 候補キーは、行を一意に識別できる。複数カラムをセットで候補キーとすることも可能
- 主キーの条件として、Nullは含めることができない。
##### 非キー属性
- 候補キーではない属性（カラム）のこと
##### 関係従属
- ある属性の値が決まれば自動的に別の属性の値が決まること
##### 第一正規形
- 候補キーを明確にする
##### 第二正規形
- 候補キーの一部に関係従属する列を別の関係（テーブル）に分割する
##### 第三正規形
- 非候補キーが候補キーに従属していない場合は、別の関係（テーブル）に分割する
- 導出属性はDBに保存せずともクエリで算出できるので属性にする必要なし。
##### 導出属性とは
- ある属性の値がほかの属性の値から決めることができるなら、その属性は導出でき、導出属性と呼ばれる。
- 例えば従業員が２つの属性、誕生と年齢をもってる場合、現在の日付から誕生日を引くことで年齢は導出可能だ。
##### ボイスコッド正規形
- 非キー属性が主キーに完全従属していること（主キー以外に完全従属は駄目！）
- この記事がわかりやすい_https://www.messiahworks.com/archives/3399
